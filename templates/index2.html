<!DOCTYPE html>
<html>
<head>
    <title>RestWell</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css" rel="stylesheet" />
    <!-- <link href="//raw.github.com/marcoceppi/bootstrap-glyphicons/master/css/bootstrap.icon-large.min.css" rel="stylesheet" /> -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet"/>
<!--     <link href="//fonts.googleapis.com/css?family=Abel|Open+Sans:400,600" rel="stylesheet" />
 --><!--     <link rel="stylesheet" type="text/css" href="../static/css/opentip.css"/>    
 -->

</head>
<body>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>

    <!-- Outer Score Panel -->
    
    <div class="container">
        <div class="btn-group">
            <button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown" href="#">
            Action <span class="caret"></span>
            </button>
                <ul class="dropdown-menu" role="menu" href="#">
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li class="divider"></li>
                    <li><a href="#">Separated link</a></li>
                </ul>
        </div>

        <form action="" id="form_list" method="get">
           <div id="inputList">
              <p><input class="textInput" name="input_1"  id="input_1" type="text" /></p>
              <p><input class="textInput" name="input_2"  id="input_2" type="text" /></p>
              <p><input class="textInput" name="input_3"  id="input_3" type="text" /></p>
            </div>
            <p><input name="addInputs" id="addInputs" type="submit" value="Add input items" /></p>
           </form>
           <ul id="update_list">
           </ul>
    </div>

    {% if fitbit_authenticated %}
    <!-- Load data for top panel display -->

    <script>
    $(document).ready(function(){
            
            $('#addInputs').click(function(event){
                    event.preventDefault();
                    addInputEl() ;
            });
            
            $('.textInput').live('blur', function(e) {
                prodCode = this.value;
                    addElement(prodCode) ;
            });
            
            $('.textInput').live('focus', function(e) {
                    prodCode = this.value;
                    checkElement(prodCode) ;
            });
    
        });
     event.preventDefault();

     function addInputEl(){
         inCon = document.getElementById('inputList');
         newP = document.createElement('p');
         newInput = document.createElement('input');
         newInput.setAttribute('class', 'textInput');
         newInput.setAttribute('type', 'text');
                     
         newP.appendChild(newInput);
         inCon.appendChild(newP);
     }

     function addElement(code) {
                 pCd = code;
             if(pCd === ""){
                 }   else{           
                     list = document.getElementById('update_list');
                     newLi= document.createElement('li');
                     hTag= document.createElement('h1');
                     midTag= document.createElement('p');
                     botTag= document.createElement('p');
                     midATag= document.createElement('a');
                     botATag= document.createElement('a');
                     
                     newLi.setAttribute('id','prod_'+pCd);           
                     midATag.setAttribute('href','http://www.my-html-codes.com?id='+pCd);
                     botATag.setAttribute('href','http://www.my-html-codes.com?id='+pCd);
                     
                     midATag.innerHTML = 'Check for alternatives';
                     botATag.innerHTML = 'Check for accessories';
                     hTag.innerHTML = 'Product: '+pCd;
                     midTag.appendChild(midATag);
                     botTag.appendChild(botATag);
                     newLi.appendChild(hTag);
                     newLi.appendChild(midTag);
                     newLi.appendChild(botTag);
                     list.appendChild(newLi);
                 }
             }

    function checkElement(code) {
        pCd = code;
        if(pCd === ""){
        }else{  
            prodId = 'prod_'+pCd;
            cld = document.getElementById(prodId);
                    pt = document.getElementById('update_list');
                    pt.removeChild(cld);
            }
        }

    </script>
    <script>
    // $.getJSON("data.json", function(d) {
    //     tz = moment().tz(d[0].timezone).format("HH:mm A");
    //     $("#topheader1").text(d[0].timezone);
    //     $("#topheader2").text(tz);
    // });
    // </script>

    <!-- Load data for dropdown selector -->
    <script>
    // $('#selectdate').prepend($('<li/>', {
    // }).prepend($('<a/>', {
    //     'href': '/sleep/sleepRecord.json', 
    //     'data-transidion': 'slide', 
    //     'text': 'hello'
    // })));
    </script>

    <!-- Load data for middle panel display -->
    <script>
    // $.getJSON('/sleep/sleepRecord.json', function (d) {
    // data = d['bedTime'];
    // if(data.length == 0) {
    //    alert('No sleep recorded.  Please hold the Fitbit button before falling asleep.');
    // } else {
    //     l = d.date.length;
    //     $('#day').text(d['date'][l-1]);
    //     $('#bedtime').text(d['bedTime'][l-1]);
    //     $('#awaketime').text(d['awakeTime'][l-1]);
    //     if(d['timeInBed'][l-1] != undefined) {
    //         hh_slduration = Math.floor(d['timeInBed'][l-1]/60);
    //         mm_slduration = d['timeInBed'][l-1]%60;    
    //         $('#slduration').text(hh_slduration + ' hr ' + mm_slduration + ' mins');
    //         }
    //     if(d['efficiency'][l-1] != undefined) {
    //         $('#sleff').text(d['efficiency'][l-1] + ' %');
    //         }
    //     }
    // });
</script>
    {% endif %}

</body>
</html>